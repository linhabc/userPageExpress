extends ../layout/common

block content
	- let pages = [page-2, page-1, page, page+1, page+2];
	.d-flex.justify-content-between
		h2 Products
		form.form-inline(action="/product/search", method="GET")
				input.form-control(type="text", name="q", value="")
				button.btn.btn-primary Search

	.d-flex.flex-wrap.justify-content-between.align-items-baseline
		if products
			each product in products
				.card.m-1(style='width: 18rem;')
					img.card-img-top(src=product.image, alt='Card image cap')
					.card-body
						h5.card-title= product.name
						p.card-text= product.description
						a.btn.btn-primary(href='#') Add to cart
	nav.my-5(aria-label='Page navigation example')
		ul.pagination.justify-content-end
			if page==1
				li.page-item.disabled
					a.page-link(href='#', tabindex='-1') Previous
			else 
				li.page-item
					a.page-link(href='/product/?page='+pages[0], tabindex='-1') Previous
				li.page-item
					a.page-link(href='/product/?page='+pages[1])=pages[1]
			li.page-item
				a.page-link(href='/product/?page='+pages[2])=pages[2]
			li.page-item
				a.page-link(href='/product/?page='+pages[3])=pages[3]
			if page==12
				li.page-item.disabled
					a.page-link(href='#') Next
			else
				li.page-item
					a.page-link(href='/product/?page='+pages[4]) Next
				